{"ast":null,"code":"import React,{useEffect,useState}from'react';import EditButton from\"./EditButton\";//import { Link} from \"react-router-dom\"\n//import cottage from './image/cottageimagesmall.jpg'\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[products,setProducts]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchProducts=()=>{var host=window.location.protocol+\"//\"+window.location.hostname+\":4000/api\";console.log(\"Host is : \"+host);fetch(host).then(res=>res.json()).then(data=>{setProducts(data.products);setLoading(false);});};fetchProducts();},[]);function currencyFormat(num){const formatter=new Intl.NumberFormat('en-UK',{style:'currency',currency:'GBP',maximumFractionDigits:0// These options are needed to round to whole numbers if that's what you want.\n//minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n//maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});return formatter.format(num);}function truncate(str,n){return str.length>n?str.slice(0,n-1):str;};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"table__container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Bidder\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bid\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"Loading\"})}):products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:`${window.location.protocol+\"//\"+window.location.hostname+':3000/'+product.image}`,alt:\"no found\",width:\"60\",height:\"50\"})}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"b\",{children:currencyFormat(`${product.price}`)})}),/*#__PURE__*/_jsx(\"td\",{children:truncate(`${product.last_bidder}`,12)||\"None\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(EditButton,{product:product})})]},`{${product.name}${product.price}}`))})]})})});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","EditButton","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","loading","setLoading","fetchProducts","host","window","location","protocol","hostname","console","log","fetch","then","res","json","data","currencyFormat","num","formatter","Intl","NumberFormat","style","currency","maximumFractionDigits","format","truncate","str","n","length","slice","children","className","map","product","src","image","alt","width","height","name","price","last_bidder"],"sources":["/Users/michaeldomingue/Documents/srcpersonal/bidding-system2/oybfund/client/src/components/Products.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport EditButton from \"./EditButton\"\n//import { Link} from \"react-router-dom\"\n//import cottage from './image/cottageimagesmall.jpg'\n\n\nconst Products = () => {\n  const [products, setProducts] = useState(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(()=> {\n      const fetchProducts = () => {\n        var host = window.location.protocol + \"//\" + window.location.hostname + \":4000/api\"\n\tconsole.log(\"Host is : \" + host)\n        fetch(host).then(res => res.json()).then(data => {\n          setProducts(data.products)   \n          setLoading(false)\n      })}\n      fetchProducts()\n  }, [])\n\n  function currencyFormat(num) {\n    const formatter = new Intl.NumberFormat('en-UK', {\n        style: 'currency',\n        currency: 'GBP',\n        maximumFractionDigits: 0,\n      \n        // These options are needed to round to whole numbers if that's what you want.\n        //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n        //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n       \n      });\n    return formatter.format(num);\n  }\n      \n  function truncate(str, n){\n    return (str.length > n) ? str.slice(0, n-1) : str;\n  };\n\n  return (\n    <div>\n      <div className='table__container'>\n       \n      <table>\n        <thead>\n          <tr>\n            <th>Image</th>\n            <th>Title</th>\n            <th>Price</th>\n            <th>Last Bidder</th>\n            <th>Bid</th>\n          </tr>\n        </thead>\n        <tbody>\n          {loading ? <tr><td>Loading</td></tr> : products.map(product => (\n            <tr key={`{${product.name}${product.price}}`}>\n           \n            <td><img src={`${window.location.protocol + \"//\" + window.location.hostname + ':3000/' + product.image}`} alt='no found' width='60' height='50' /></td>\n              \n              \n              <td>{product.name}</td>\n              <td><b>{currencyFormat(`${product.price}`)}</b></td>\n              <td>{truncate(`${product.last_bidder}`,12) || \"None\"}</td>\n              <td><EditButton product={product}/></td>\n              \n            </tr>\n          ))}\n            \n        </tbody>\n      </table>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Products\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}